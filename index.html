<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="svgs/G.svg" />

    <title>GiB¬≤C | Que bicho √© esse?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Poppins:wght@500;600;700;800&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        poppins: ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            dark: '#0f172a',
                            primary: '#10b981', 
                            secondary: '#6366f1', 
                            accent: '#f43f5e', 
                            light: '#f8fafc'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'bounce-slow': 'bounce 3s infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #f0f4f8;
            background-image:
                radial-gradient(at 0% 0%, rgba(16, 185, 129, 0.1) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(99, 102, 241, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(244, 63, 94, 0.1) 0px, transparent 50%);
            background-attachment: fixed;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-color: rgba(16, 185, 129, 0.4);
        }

        .screen {
            animation: fadeIn 0.5s ease-out;
        }

        .dna-strand {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
            opacity: 0.3;
            pointer-events: none;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        .phylogenetic-tree-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: auto;
            height: 400px;
        }

        .tree-branch {
            position: absolute;
            background-color: #cbd5e1;
            border-radius: 2px;
        }

        .tree-node {
            position: absolute;
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #f43f5e, #e11d48);
            box-shadow: 0 2px 4px rgba(244, 63, 94, 0.4);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            border: 2px solid white;
            z-index: 10;
            font-family: 'Poppins', sans-serif;
            font-size: 0.85rem;
        }

        .animal-label {
            position: absolute;
            font-weight: 600;
            color: #334155;
            background: rgba(255, 255, 255, 0.8);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .btn {
            transition: all 0.2s ease;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            border-radius: 0.75rem;
            cursor: pointer;
        }

        .btn-primary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.4);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #059669, #047857);
            transform: translateY(-1px);
            box-shadow: 0 6px 8px -1px rgba(16, 185, 129, 0.5);
        }

        .btn-secondary {
            background: white;
            color: #475569;
            border: 1px solid #e2e8f0;
        }

        .btn-secondary:hover {
            background: #f8fafc;
            color: #1e293b;
            border-color: #cbd5e1;
        }

        .icon-circle {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            margin-bottom: 1rem;
            transition: transform 0.3s ease;
        }

        .card:hover .icon-circle {
            transform: scale(1.1) rotate(5deg);
        }

        .tab-btn {
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            color: #64748b;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: #10b981;
            border-bottom-color: #10b981;
            background-color: rgba(16, 185, 129, 0.05);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        .dna-block {
            box-shadow: 0 2px 0 rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .back-arrow-btn {
            position: absolute;
            top: 1rem;
            left: 1rem;
            z-index: 50;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(4px);
            padding: 0.5rem;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            color: #64748b;
            transition: all 0.2s;
        }

        .back-arrow-btn:hover {
            color: #10b981;
            background: white;
            transform: translateX(-2px);
        }

        .sequence-hint-animation {
            animation: slideDownFade 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        
        @keyframes slideDownFade {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>

<body class="flex flex-col min-h-screen text-slate-800 antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200 shadow-sm">
        <div class="container mx-auto px-4 py-3 flex justify-center md:justify-start items-center">
            <div id="header-logo" class="flex items-center gap-3 cursor-pointer group">

                <h1
                    class="text-xl md:text-2xl font-bold font-poppins bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 to-teal-700">
                    GiB¬≤C <span class="text-slate-400 font-medium text-lg">|</span> Que bicho √© esse?
                </h1>
            </div>
        </div>
    </header>

    <main class="container mx-auto flex-grow p-4 md:p-8 flex items-center justify-center relative">
        <div
            class="absolute top-10 left-10 w-64 h-64 bg-emerald-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse-slow">
        </div>
        <div class="absolute bottom-10 right-10 w-64 h-64 bg-indigo-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse-slow"
            style="animation-delay: 1s"></div>

        <!-- Screen: Home - Coleta -->
        <div id="screen-home" class="screen flex flex-col items-center justify-center w-full z-10">
            <div class="text-center mb-10 max-w-3xl">
                <h2 class="text-4xl md:text-5xl font-bold text-slate-800 mb-4 font-poppins tracking-tight">Onde voc√™
                    encontrou seu bicho?</h2>
                <p class="text-slate-500 text-lg font-light">Selecione o ambiente de onde sua amostra foi coletada para
                    iniciarmos a expedi√ß√£o cient√≠fica.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-5xl mb-10">
                <div class="card glass-card p-6 rounded-2xl cursor-pointer card-marine group relative overflow-hidden"
                    data-environment="ambienteMarinho">
                    <div
                        class="absolute right-0 top-0 w-32 h-32 bg-blue-100 rounded-bl-full opacity-50 transition-transform group-hover:scale-110">
                    </div>
                    <div class="icon-circle bg-blue-300">üêü</div>

                    <h3
                        class="text-xl font-bold text-slate-700 mb-2 relative z-10 group-hover:text-blue-600 transition-colors">
                        Organismos marinhos</h3>
                    <p class="text-slate-500 text-sm relative z-10">Peixes, algas, crust√°ceos e vida aqu√°tica profunda.
                    </p>
                </div>

                <div class="card glass-card p-6 rounded-2xl cursor-pointer card-soil group relative overflow-hidden"
                    data-environment="ambienteSolo">
                    <div
                        class="absolute right-0 top-0 w-32 h-32 bg-orange-100 rounded-bl-full opacity-50 transition-transform group-hover:scale-110">
                    </div>
                    <div class="icon-circle bg-orange-300">üå±</div>

                    <h3
                        class="text-xl font-bold text-slate-700 mb-2 relative z-10 group-hover:text-orange-600 transition-colors">
                        Organismos do solo</h3>
                    <p class="text-slate-500 text-sm relative z-10">Minhocas, insetos, fungos e seres terrestres.</p>
                </div>

                <div class="card glass-card p-6 rounded-2xl cursor-pointer card-cave group relative overflow-hidden"
                    data-environment="ambienteCavernaFossil">
                    <div
                        class="absolute right-0 top-0 w-32 h-32 bg-stone-200 rounded-bl-full opacity-50 transition-transform group-hover:scale-110">
                    </div>
                    <div class="icon-circle bg-stone-500">ü¶¥</div>
                    <h3
                        class="text-xl font-bold text-slate-700 mb-2 relative z-10 group-hover:text-stone-600 transition-colors">
                        Cavern√≠colas e F√≥sseis</h3>
                    <p class="text-slate-500 text-sm relative z-10">Organismos adaptados √† escurid√£o ou restos antigos.
                    </p>
                </div>

                <div class="card glass-card p-6 rounded-2xl cursor-pointer card-forest group relative overflow-hidden"
                    data-environment="ambienteFloresta">
                    <div
                        class="absolute right-0 top-0 w-32 h-32 bg-emerald-100 rounded-bl-full opacity-50 transition-transform group-hover:scale-110">
                    </div>
                    <div class="icon-circle bg-green-300">üå≥</div>
                    <h3
                        class="text-xl font-bold text-slate-700 mb-2 relative z-10 group-hover:text-emerald-600 transition-colors">
                        Organismos da Floresta</h3>
                    <p class="text-slate-500 text-sm relative z-10">Mam√≠feros, aves e r√©pteis de ambiente florestal.</p>
                </div>
            </div>

            <button id="btn-open-gallery" class="group flex items-center gap-3 bg-white hover:bg-emerald-50 text-slate-600 hover:text-emerald-700 font-semibold py-4 px-8 rounded-2xl shadow-lg border border-slate-200 transition-all transform hover:-translate-y-1 w-full max-w-md justify-center">
                <span class="bg-emerald-100 p-2 rounded-full group-hover:bg-emerald-200 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-emerald-600">
                        <rect width="18" height="18" x="3" y="3" rx="2" ry="2"/>
                        <circle cx="9" cy="9" r="2"/>
                        <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
                    </svg>
                </span>
                <span>Explorar Galeria dos Seres Vivos</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-auto opacity-50 group-hover:opacity-100 transition-opacity">
                    <path d="m9 18 6-6-6-6"/>
                </svg>
            </button>
        </div>

        <!-- Screen: Gallery -->
        <div id="screen-gallery" class="screen hidden flex flex-col w-full z-10 relative max-w-6xl mx-auto">
            <div class="flex items-center gap-4 mb-8">
                <button onclick="goBack()" class="p-2 bg-white rounded-full shadow-md text-slate-600 hover:text-emerald-600 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m15 18-6-6 6-6" />
                    </svg>
                </button>
                <div>
                    <h2 class="text-3xl font-bold text-slate-800 font-poppins">Galeria dos Seres Vivos</h2>
                    <p class="text-slate-500 text-sm">Selecione um ser vivo para iniciar a an√°lise gen√©tica.</p>
                </div>
            </div>

            <div id="gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- CARDS -->
            </div>
        </div>

        <!-- Screen: Scan QR -->
        <div id="screen-scan-qr" class="screen hidden flex flex-col items-center justify-center w-full z-10 relative">
            <button onclick="goBack()" class="back-arrow-btn md:hidden">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6" />
                </svg>
            </button>

            <!-- Sequence Reminder Hint  -->
            <div id="sequence-hint-container" class="hidden w-full max-w-lg mb-6 sequence-hint-animation z-20">
                <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 shadow-lg flex flex-col gap-2 relative">
                    <div class="flex items-center gap-2 text-amber-800 font-bold text-sm uppercase tracking-wide">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                        Lembrete da Galeria
                    </div>
                    <div class="flex items-start justify-between gap-4">
                        <div>
                            <p class="text-sm text-amber-900 mb-1">Voc√™ selecionou: <span id="hint-animal-name" class="font-bold">Animal</span></p>
                            <div class="bg-white px-3 py-2 rounded-lg border border-amber-100 font-mono text-lg tracking-widest text-slate-800 select-all cursor-copy" onclick="copyHintToClipboard(this)">
                                <span id="hint-sequence-code">XXXXXXXXXXXX</span>
                            </div>
                            <p class="text-[10px] text-amber-600 mt-1">Clique no c√≥digo para copiar ou digite abaixo.</p>
                        </div>
                        <button onclick="clearSequenceHint()" class="text-amber-400 hover:text-amber-600 transition-colors p-1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <div class="glass-panel p-8 rounded-3xl shadow-2xl w-full max-w-lg relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-emerald-400 to-indigo-500"></div>

                <h2 class="text-3xl font-bold text-slate-800 mb-2 font-poppins text-center">Identifica√ß√£o Gen√©tica</h2>
                <p class="text-slate-500 mb-8 text-center">Use seu cart√£o de amostra para extrair o DNA.</p>

                <!-- QR Code Section -->
                <div
                    class="bg-slate-50 border-2 border-dashed border-slate-200 p-8 rounded-2xl flex flex-col items-center justify-center mb-6 group hover:border-emerald-300 transition-colors">
                    <div class="bg-white p-4 rounded-xl shadow-sm mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"
                            class="text-slate-400 group-hover:text-emerald-500 transition-colors">
                            <rect width="5" height="5" x="3" y="3" rx="1" />
                            <rect width="5" height="5" x="16" y="3" rx="1" />
                            <rect width="5" height="5" x="3" y="16" rx="1" />
                            <path d="M21 16h-3a2 2 0 0 0-2 2v3" />
                            <path d="M21 21v.01" />
                            <path d="M12 3v10a2 2 0 0 1-2 2H3" />
                            <path d="M15 7h1" />
                        </svg>
                    </div>
                    <p class="text-sm font-medium text-slate-500 animate-pulse">Aguardando leitura do QR Code...</p>
                </div>

                <div class="relative flex py-2 items-center">
                    <div class="flex-grow border-t border-slate-200"></div>
                    <span class="flex-shrink mx-4 text-slate-400 text-xs uppercase font-bold tracking-wider">Ou digite
                        manualmente</span>
                    <div class="flex-grow border-t border-slate-200"></div>
                </div>

                <div class="mt-4">
                    <label for="sequence-input"
                        class="block text-sm font-medium text-slate-600 mb-2 text-center">Sequ√™ncia de 12 bases
                        nitrogenadas</label>
                    <input type="text" id="sequence-input"
                        class="w-full px-4 py-3 border border-slate-300 rounded-xl text-center uppercase tracking-[0.25em] font-mono text-lg focus:ring-4 focus:ring-emerald-500/20 focus:border-emerald-500 outline-none transition-all"
                        maxlength="12" placeholder="ATCG...">

                    <p id="sequence-error-message"
                        class="text-rose-500 text-xs text-center mt-2 min-h-[1.25rem] font-medium"></p>

                    <button id="btn-submit-sequence"
                        class="btn btn-primary w-full mt-2 py-3 text-lg shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m22 2-7 20-4-9-9-4Z" />
                            <path d="M22 2 11 13" />
                        </svg>
                        Analisar Amostra
                    </button>
                </div>

                <button id="btn-back-to-home"
                    class="w-full mt-6 text-slate-400 hover:text-slate-600 text-sm font-medium transition-colors flex items-center justify-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m12 19-7-7 7-7" />
                        <path d="M19 12H5" />
                    </svg>
                    Voltar ao in√≠cio
                </button>
            </div>
        </div>

        <!-- Screen: Intro Sequence -->
        <div id="screen-intro-sequence"
            class="screen hidden flex flex-col items-center justify-center w-full z-10 relative">
            <button onclick="goBack()" class="back-arrow-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6" />
                </svg>
            </button>

            <div class="text-center mb-8">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800 mb-2 font-poppins">Extra√ß√£o Conclu√≠da!</h2>
                <p class="text-slate-500 max-w-xl mx-auto">O material gen√©tico foi isolado. Prepare-se para visualizar o
                    c√≥digo da vida.</p>
            </div>

            <div
                class="glass-panel p-10 rounded-full shadow-2xl mb-8 animate-pulse-slow bg-gradient-to-br from-emerald-50 to-white border-4 border-white">
                <!-- SVG DNA - Intro -->
                <svg fill="#69B988FF" height="120px" width="120px" version="1.1" id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"
                    xml:space="preserve" transform="rotate(0)" stroke="#36ec7c">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC"
                        stroke-width="1.024"></g>
                    <g id="SVGRepo_iconCarrier">
                        <g>
                            <g>
                                <path
                                    d="M413.876,34.73c0-19.151-15.579-34.73-34.729-34.73s-34.73,15.579-34.73,34.73c0,10.532-1.455,21.047-4.131,31.564 H171.685c-1.797-7.109-3.038-14.23-3.651-21.365h111.425c5.633,0,10.199-4.566,10.199-10.199c0-5.633-4.566-10.199-10.199-10.199 H166.055C161.686,10.342,148.457,0,132.854,0c-19.15,0-34.73,15.579-34.73,34.73c0,80.895,52.403,151.003,112.129,221.269 C152.28,324.16,98.124,395.274,98.124,477.27c0,19.15,15.579,34.73,34.73,34.73c14.823,0,27.501-9.338,32.476-22.438h181.339 c4.975,13.1,17.653,22.438,32.476,22.438c19.15,0,34.73-15.579,34.73-34.73c0-81.081-52.47-151.094-112.129-221.269 C359.721,187.84,413.876,116.726,413.876,34.73z M333.626,86.693c-2.959,7.47-6.47,14.947-10.444,22.438h-134.46 c-3.958-7.475-7.455-14.952-10.408-22.438H333.626z M215.876,151.968c-5.418-7.484-10.532-14.962-15.263-22.438H311.29 c-4.718,7.458-9.827,14.935-15.249,22.438H215.876z M280.638,172.367c-7.843,9.999-16.116,20.054-24.64,30.179 c-8.501-10.087-16.796-20.142-24.688-30.179H280.638z M118.523,34.73c0-7.902,6.43-14.332,14.332-14.332 c7.903,0,14.332,6.43,14.332,14.332c0,45.56,22.593,88.815,53.954,131.649c0.593,1.304,1.451,2.458,2.508,3.399 c12.033,16.193,25.266,32.335,38.956,48.524c-4.276,4.994-8.591,10.005-12.924,15.039c-1.996,2.318-3.994,4.64-5.992,6.963 C167.41,173.897,118.523,107.878,118.523,34.73z M147.186,477.27c0.001,7.902-6.429,14.332-14.332,14.332 c-7.902,0-14.332-6.43-14.332-14.332c0-83.55,64.368-158.316,126.617-230.62c61.544-71.485,119.674-139.007,119.674-211.919 c0-7.902,6.43-14.332,14.332-14.332c7.902,0,14.332,6.43,14.332,14.332c0,83.55-64.368,158.316-126.617,230.62 C205.317,336.836,147.186,404.358,147.186,477.27z M199.4,384.563c4.647-7.459,9.691-14.936,15.057-22.438h83.181 c5.362,7.483,10.41,14.961,15.069,22.438H199.4z M324.376,404.961c3.871,7.474,7.275,14.952,10.126,22.438H177.567 c2.857-7.471,6.268-14.948,10.155-22.438H324.376z M229.725,341.726c8.326-10.689,17.158-21.44,26.278-32.271 c9.092,10.788,17.949,21.54,26.328,32.271H229.725z M167.876,469.163c0.494-7.125,1.624-14.245,3.325-21.365h169.63 c1.686,7.109,2.813,14.229,3.304,21.365H167.876z M393.478,477.27c0,7.902-6.43,14.332-14.332,14.332 c-7.903,0-14.332-6.43-14.332-14.332c0-64.023-44.589-123.461-95.418-183.571c4.276-4.994,8.592-10.005,12.924-15.039 c1.996-2.318,3.994-4.64,5.993-6.964C344.529,338.013,393.478,403.95,393.478,477.27z">
                                </path>
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M319.236,24.531h-5.1c-5.633,0-10.199,4.566-10.199,10.199c0,5.633,4.566,10.199,10.199,10.199h5.1 c5.633,0,10.199-4.566,10.199-10.199C329.435,29.097,324.869,24.531,319.236,24.531z">
                                </path>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>

            <button id="btn-start-viewing-sequence"
                class="btn btn-primary px-8 py-4 text-lg shadow-xl shadow-emerald-500/30 flex items-center gap-3 group">
                Revelar C√≥digo Gen√©tico
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="group-hover:translate-x-1 transition-transform">
                    <path d="M5 12h14" />
                    <path d="m12 5 7 7-7 7" />
                </svg>
            </button>
        </div>

        <!-- Screen: Genome Assembly (Puzzle) -->
        <div id="screen-genome-assembly"
            class="screen hidden flex flex-col items-center justify-center w-full z-10 p-4 relative">

            <button onclick="goBack()" class="back-arrow-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6" />
                </svg>
            </button>

            <div class="w-full max-w-4xl">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-slate-800 mb-2 font-poppins">Montagem do Genoma</h2>
                    <p class="text-slate-500">Reconstrua a sequ√™ncia de DNA na ordem correta.</p>
                </div>

                <div class="glass-panel p-6 md:p-8 rounded-3xl shadow-xl">
                    <!-- Terminal/Preview Box -->
                    <div
                        class="bg-slate-900 rounded-xl p-4 mb-6 font-mono text-sm shadow-inner overflow-hidden relative">
                        <div class="absolute top-2 left-3 flex gap-2">
                            <div class="w-3 h-3 rounded-full bg-red-500"></div>
                            <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                            <div class="w-3 h-3 rounded-full bg-green-500"></div>
                        </div>
                        <div class="mt-6 text-emerald-400">
                            <p class="mb-1 opacity-50">$ inicializando sequenciador...</p>
                            <div id="original-sequence-display"
                                class="text-2xl md:text-3xl font-bold tracking-widest text-white text-center py-4 hidden animate-pulse">
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-center mb-8">
                        <button id="btn-show-sequence"
                            class="btn btn-secondary py-2 px-4 text-sm flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                                <circle cx="12" cy="12" r="3" />
                            </svg>
                            Espiar Sequ√™ncia Original (3s)
                        </button>
                    </div>

                    <!-- Drop Area -->
                    <div class="mb-6">
                        <p class="text-slate-500 font-semibold mb-3 text-sm uppercase tracking-wide text-center">
                            Sequ√™ncia Alvo</p>
                        <div id="dna-target-area"
                            class="w-full flex flex-wrap justify-center items-center gap-2 p-6 bg-slate-50/50 border-2 border-dashed border-slate-300 rounded-2xl min-h-[120px] transition-colors hover:border-emerald-300">
                            <span class="text-slate-400 text-sm pointer-events-none">Clique nos blocos abaixo para
                                montar aqui</span>
                        </div>
                    </div>

                    <!-- Source Area -->
                    <div class="mb-8">
                        <p class="text-slate-500 font-semibold mb-3 text-sm uppercase tracking-wide text-center">Blocos
                            dispon√≠veis</p>
                        <div id="dna-blocks-source"
                            class="flex flex-wrap justify-center gap-3 p-6 bg-slate-100 rounded-2xl min-h-[100px]">
                            <!-- Blocks injected -->
                        </div>
                    </div>

                    <div class="flex flex-col items-center gap-4">
                        <button id="btn-check-assembly"
                            class="btn btn-primary px-8 py-3 text-lg w-full md:w-auto z-20 relative">Verificar
                            Montagem</button>
                        <p id="assembly-message" class="h-6 font-semibold"></p>

                        <button id="btn-assembly-next"
                            class="hidden btn bg-slate-800 text-white hover:bg-slate-700 px-8 py-3 rounded-xl flex items-center gap-2 transition-all z-20 relative">
                            Consultar Banco de Dados
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M5 12h14" />
                                <path d="m12 5 7 7-7 7" />
                            </svg>
                        </button>
                    </div>

                    <div class="mt-8 bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
                        <div class="flex items-start gap-3">
                            <div class="text-amber-500 mt-1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="12" x2="12" y1="16" y2="12" />
                                    <line x1="12" x2="12.01" y1="8" y2="8" />
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-bold text-amber-800 text-sm">Curiosidade Gen√©tica</h4>
                                <p class="text-amber-700 text-sm mt-1">A ordem das letras (bases nitrogenadas) determina
                                    as caracter√≠sticas do ser vivo, assim como a ordem das letras numa palavra muda seu
                                    significado.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Screen: Identification Card -->
        <div id="screen-identification-card"
            class="screen hidden flex flex-col items-center justify-center w-full z-10 relative">

            <button onclick="goBack()" class="back-arrow-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6" />
                </svg>
            </button>

            <div class="w-full max-w-5xl">
                <div class="flex flex-col md:flex-row items-center justify-between mb-6">
                    <div>
                        <h2 class="text-3xl font-bold text-slate-800 font-poppins">Identifica√ß√£o Confirmada</h2>
                        <p class="text-slate-500">An√°lise conclu√≠da com sucesso.</p>
                    </div>
                    <div
                        class="mt-4 md:mt-0 bg-green-100 text-green-800 px-4 py-1 rounded-full text-sm font-bold flex items-center gap-2 border border-green-200">
                        <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                        Match 100%
                    </div>
                </div>

                <div class="glass-panel rounded-3xl shadow-2xl overflow-hidden flex flex-col lg:flex-row">
                    <!-- Left: Image & Taxonomy -->
                    <div class="w-full lg:w-1/3 bg-slate-50 border-r border-slate-100 p-6 flex flex-col gap-6">
                        <div
                            class="rounded-2xl overflow-hidden shadow-lg bg-white transform rotate-1 hover:rotate-0 transition-transform duration-500">
                            <img id="card-animal-image" src="" alt="Animal"
                                class="w-full h-64 object-cover rounded-xl bg-white">
                        </div>

                        <div class="bg-white rounded-xl p-5 shadow-sm border border-slate-100">
                            <h4
                                class="font-bold text-slate-800 mb-3 flex items-center gap-2 border-b border-slate-100 pb-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="text-indigo-500">
                                    <rect width="8" height="4" x="8" y="2" rx="1" ry="1" />
                                    <path
                                        d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" />
                                </svg>
                                Taxonomia
                            </h4>
                            <ul class="space-y-2 text-sm text-slate-600">
                                <li class="flex justify-between"><span>Reino:</span> <span
                                        class="font-medium text-slate-800" id="card-taxonomy-kingdom"></span></li>
                                <li class="flex justify-between"><span>Filo:</span> <span
                                        class="font-medium text-slate-800" id="card-taxonomy-phylum"></span></li>
                                <li class="flex justify-between"><span>Classe:</span> <span
                                        class="font-medium text-slate-800" id="card-taxonomy-class"></span></li>
                                <li class="flex justify-between"><span>Ordem:</span> <span
                                        class="font-medium text-slate-800" id="card-taxonomy-order"></span></li>
                                <li class="flex justify-between"><span>Fam√≠lia:</span> <span
                                        class="font-medium text-slate-800" id="card-taxonomy-family"></span></li>
                                <li class="flex justify-between"><span>G√™nero:</span> <span
                                        class="font-medium text-slate-800 italic" id="card-taxonomy-genus"></span></li>
                                <li class="flex justify-between"><span>Esp√©cie:</span> <span
                                        class="font-medium text-emerald-600 italic" id="card-taxonomy-species"></span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Right: Content -->
                    <div class="w-full lg:w-2/3 p-8 bg-white/60">
                        <h3 id="card-animal-name" class="text-4xl font-bold text-slate-800 mb-1 font-poppins"></h3>
                        <p class="text-slate-400 italic mb-6 text-lg" id="card-scientific-name-subtitle"></p>

                        <div class="space-y-6">
                            <div>
                                <h4 class="font-bold text-slate-700 text-lg mb-2">Descri√ß√£o</h4>
                                <p id="card-description" class="text-slate-600 leading-relaxed"></p>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="bg-emerald-50/50 p-4 rounded-xl border border-emerald-100">
                                    <h4 class="font-bold text-emerald-800 mb-2 flex items-center gap-2">
                                        
                                        Habitat
                                    </h4>
                                    <p id="card-habitat" class="text-sm text-emerald-700"></p>
                                </div>
                                <div class="bg-indigo-50/50 p-4 rounded-xl border border-indigo-100">
                                    <h4 class="font-bold text-indigo-800 mb-2 flex items-center gap-2">
                                        
                                        Marcadores Gen√©ticos
                                    </h4>
                                    <p id="card-genetic-features" class="text-sm text-indigo-700"></p>
                                </div>
                            </div>

                            <div class="bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg mt-4">
                                <div class="flex items-start gap-3">
                                    <div class="text-amber-500 mt-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M12 20h9" />
                                            <path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-amber-800 text-sm">Curiosidade</h4>
                                        <p id="card-curiosity" class="text-amber-700 text-sm mt-1"></p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Alignment Section -->
                        <div class="mt-8 pt-8 border-t border-slate-200">
                            <!-- <h4 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="text-slate-400">
                                    <path
                                        d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9" />
                                </svg>
                                Similaridade Gen√©tica
                            </h4> -->
                            <!-- Bars injected here -->
                            <!-- <div id="alignment-visualization" class="space-y-3">
                            </div>
                            <p id="alignment-summary" class="text-xs text-slate-500 mt-2 text-center"></p> -->
                        </div>

                        <div class="flex gap-4 mt-8">
                            <button class="btn-back btn btn-secondary flex-1 py-3 z-20 relative">Nova An√°lise</button>
                            <button id="btn-identify-another"
                                class="btn btn-primary flex-1 py-3 flex justify-center items-center gap-2 z-20 relative">
                                Ver Posi√ß√£o Evolutiva
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="18" cy="5" r="3" />
                                    <circle cx="6" cy="12" r="3" />
                                    <circle cx="18" cy="19" r="3" />
                                    <line x1="8.59" x2="15.42" y1="13.51" y2="17.49" />
                                    <line x1="15.41" x2="8.59" y1="6.51" y2="10.49" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Screen: Phylogenetic Tree -->
        <div id="screen-phylogenetic-tree"
            class="screen hidden flex flex-col items-center justify-center w-full z-10 p-4 relative">

            <button onclick="goBack()" class="back-arrow-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6" />
                </svg>
            </button>

            <div class="w-full max-w-6xl">
                <h2 class="text-3xl font-bold text-slate-800 mb-2 font-poppins text-center">√Årvore Filogen√©tica</h2>
                <p class="text-slate-500 text-center mb-8">Entenda as rela√ß√µes evolutivas entre as esp√©cies.</p>

                <div class="flex flex-col lg:flex-row gap-8">
                    <!-- Tree -->
                    <div class="lg:w-2/3">
                        <div class="glass-panel rounded-3xl shadow-xl p-8 bg-white relative overflow-hidden">
                            <div class="absolute top-0 right-0 p-4 opacity-10 text-slate-900">
                                <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10" />
                                    <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20" />
                                    <path d="M2 12h20" />
                                </svg>
                            </div>
                            <div id="phylogenetic-tree-visualization" class="phylogenetic-tree-container relative">
                                <!-- Tree injected -->
                            </div>
                        </div>
                    </div>

                    <!-- Legend -->
                    <div class="lg:w-1/3 flex flex-col gap-6">
                        <div class="glass-card rounded-2xl p-6 border-l-4 border-rose-400 bg-white/80">
                            <h3 class="font-bold text-lg text-slate-800 mb-3 flex items-center gap-2">
                                <span
                                    class="w-6 h-6 bg-rose-500 text-white rounded-full flex items-center justify-center text-xs shadow-md">#</span>
                                Legenda Evolutiva
                            </h3>
                            <div id="phylogenetic-characteristics" class="space-y-2">
                                <!-- Characteristics injected -->
                            </div>
                        </div>

                        <div class="glass-card rounded-2xl p-6 border-l-4 border-slate-400 bg-white/80">
                            <h3 class="font-bold text-lg text-slate-800 mb-3">Esp√©cies no Grupo</h3>
                            <div id="animal-list-box" class="text-sm text-slate-600">
                                <!-- Animal list injected -->
                            </div>
                        </div>

                        <button id="btn-tree-next" class="btn btn-primary py-3 w-full shadow-lg">Investigar Novo
                            Bicho</button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-auto relative z-20">
        <div class="container mx-auto px-6 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0 text-center md:text-left">
                    <h3 class="text-xl font-bold font-poppins text-slate-800">GiB¬≤C - UFF</h3>
                    <p class="text-slate-500 text-sm">Bioinform√°tica e Gen√¥mica Educacional</p>
                </div>

                <div class="flex flex-wrap justify-center gap-8 text-sm font-medium text-slate-600">
                    <a href="https://gib2c.uff.br/" target="_blank"
                        class="hover:text-emerald-600 transition-colors">Equipe</a>
                    <a href="https://www.instagram.com/gib2c/" target="_blank" rel="noopener noreferrer"
                        class="hover:text-emerald-600 transition-colors">
                        Instagram
                    </a>
                    <a href="#" id="study-modal-link"
                        class="text-indigo-600 hover:text-indigo-800 transition-colors flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                        </svg>
                        Estudo Orientado
                    </a>
                    <a href="#" id="privacy-policy-link"
                        class="hover:text-emerald-600 transition-colors">Privacidade</a>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-slate-100 text-center text-xs text-slate-400">
                &copy; 2025 GiB¬≤C - UFF | Ferramenta desenvolvida para fins educacionais.
            </div>
        </div>
    </footer>

    <!-- Privacy Modal -->
    <div id="privacy-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-slate-900/50 backdrop-blur-sm" id="privacy-modal-backdrop"></div>
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 p-8 transform transition-all">
            <button class="absolute top-4 right-4 text-slate-400 hover:text-slate-600" id="privacy-close-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18" />
                    <line x1="6" y1="6" x2="18" y2="18" />
                </svg>
            </button>
            <h3 class="text-2xl font-bold font-poppins text-slate-800 mb-4">Privacidade</h3>
            <p class="text-slate-600 text-sm mb-4 leading-relaxed">
                Esta aplica√ß√£o, "GiB¬≤C | UFF: Que bicho √© esse?", foi desenvolvida exclusivamente com fins educacionais.
                N√£o coletamos, armazenamos ou processamos quaisquer dados pessoais.
            </p>
            <p class="text-slate-600 text-sm mb-6 leading-relaxed">
                Toda a intera√ß√£o ocorre localmente no seu navegador. As "sequ√™ncias de DNA" s√£o fict√≠cias e servem
                apenas para simular processos de bioinform√°tica.
            </p>
            <button id="modal-understood-btn" class="btn btn-primary w-full py-3">Entendi</button>
        </div>
    </div>

    <!-- Estudo Orientado Modal -->
    <div id="study-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 overflow-y-auto">
        <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-md" id="study-modal-backdrop"></div>
        <div
            class="bg-white rounded-3xl shadow-2xl w-full max-w-4xl relative z-10 flex flex-col max-h-[90vh] my-auto overflow-hidden">
            <!-- Modal Header -->
            <div
                class="p-6 border-b border-slate-100 flex justify-between items-center bg-gradient-to-r from-indigo-50 to-white">
                <div class="flex items-center gap-3">
                    <div class="bg-indigo-100 p-2 rounded-lg text-indigo-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold font-poppins text-slate-800">Estudo Orientado</h3>
                </div>
                <button class="text-slate-400 hover:text-rose-500 transition-colors p-2" id="study-close-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>

            <!-- Tabs -->
            <div class="flex border-b border-slate-200 overflow-x-auto">
                <button class="tab-btn active" data-tab="tab-dna">O C√≥digo da Vida</button>
                <button class="tab-btn" data-tab="tab-phylogeny">Parentesco Evolutivo</button>
                <button class="tab-btn" data-tab="tab-curiosity">Curiosidades</button>
            </div>

            <!-- Content -->
            <div class="p-8 overflow-y-auto bg-slate-50/50 flex-grow">

                <!-- Tab: DNA -->
                <div id="tab-dna" class="tab-content active">
                    <div class="flex flex-col md:flex-row gap-8 items-start">
                        <div class="md">
                            <h4 class="text-xl font-bold text-emerald-700 mb-3">O que √© o DNA?</h4>
                            <p class="text-slate-600 mb-4 leading-relaxed">
                                Imagine que voc√™ vai construir um pr√©dio de LEGO. Voc√™ precisa de um manual de
                                instru√ß√µes, certo?
                                O <b>DNA</b> (√Åcido Desoxirribonucleico) √© exatamente isso: o manual de instru√ß√µes de
                                todos os seres vivos!
                            </p>
                            <p class="text-slate-600 mb-4 leading-relaxed">
                                Ele fica guardadinho dentro de cada c√©lula do nosso corpo e cont√©m a "receita" para
                                fazer voc√™ ser quem voc√™ √©:
                                a cor dos seus olhos, seu cabelo, sua altura e at√© como seu corpo funciona.
                            </p>
                            <div class="bg-emerald-100 p-4 rounded-xl border-l-4 border-emerald-500 my-6">
                                <p class="font-medium text-emerald-800">O Alfabeto Gen√©tico</p>
                                <p class="text-emerald-700 text-sm mt-1">Esse manual √© escrito com apenas 4 letras:
                                    <b>A, T, C e G</b>. Dependendo da ordem dessas letras, a instru√ß√£o muda. √â como
                                    escrever palavras diferentes usando o mesmo alfabeto!
                                </p>
                            </div>
                        </div>
                       
                    </div>
                </div>

                <!-- Tab: Phylogeny -->
                <div id="tab-phylogeny" class="tab-content">
                    <h4 class="text-xl font-bold text-indigo-700 mb-3">Filogenia: A √Årvore da Vida</h4>
                    <p class="text-slate-600 mb-6 leading-relaxed">
                        Voc√™ j√° viu uma √°rvore geneal√≥gica da sua fam√≠lia? A Filogenia √© como uma √°rvore geneal√≥gica
                        gigante, mas para
                        <b>todas as esp√©cies do planeta</b>! Ela nos ajuda a entender quem √© parente de quem na
                        natureza.
                    </p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white p-5 rounded-xl shadow-sm border border-slate-200">
                            <h5 class="font-bold text-slate-800 mb-2">Parentes Pr√≥ximos</h5>
                            <p class="text-sm text-slate-600">Se dois animais t√™m o c√≥digo gen√©tico (DNA) muito
                                parecido, eles s√£o "primos" pr√≥ximos. Por exemplo, o ser humano e o chimpanz√©.</p>
                        </div>
                        <div class="bg-white p-5 rounded-xl shadow-sm border border-slate-200">
                            <h5 class="font-bold text-slate-800 mb-2">Ancestrais Comuns</h5>
                            <p class="text-sm text-slate-600">Quando os galhos da √°rvore se encontram, aquele ponto
                                representa um "av√¥" muito antigo que deu origem a diferentes grupos de animais.</p>
                        </div>
                    </div>

                    <p class="text-slate-500 text-sm italic">No nosso app, usamos a sequ√™ncia de DNA que voc√™ encontrou
                        para descobrir em qual galho dessa grande √°rvore o seu bicho est√° sentado!</p>
                </div>

                <!-- Tab: Curiosities -->
                <div id="tab-curiosity" class="tab-content">
                    <h4 class="text-xl font-bold text-rose-600 mb-4">Voc√™ Sabia?</h4>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div class="bg-rose-50 p-5 rounded-2xl hover:bg-rose-100 transition-colors">
                            <span class="text-2xl mb-2 block">üåÄ</span>
                            <h5 class="font-bold text-rose-800 mb-1">DNA √© quase indestrut√≠vel</h5>
                            <p class="text-sm text-rose-700">O DNA pode sobreviver milhares de anos em f√≥sseis. Cientistas j√° recuperaram DNA de um mamute com mais de 1 milh√£o de anos!</p>
                        </div>

                        <div class="bg-blue-50 p-5 rounded-2xl hover:bg-blue-100 transition-colors">
                            <span class="text-2xl mb-2 block">üìè</span>
                            <h5 class="font-bold text-blue-800 mb-1">Estica e Puxa</h5>
                            <p class="text-sm text-blue-700">Se desenrol√°ssemos todo o DNA de uma √∫nica c√©lula sua, ele
                                teria cerca de 2 metros de comprimento. Se junt√°ssemos o de todas as c√©lulas, iria at√© o
                                Sol e voltaria v√°rias vezes!</p>
                        </div>

                        <div class="bg-amber-50 p-5 rounded-2xl hover:bg-amber-100 transition-colors">
                            <span class="text-2xl mb-2 block">üë•</span>
                            <h5 class="font-bold text-amber-800 mb-1">Quase Iguais</h5>
                            <p class="text-sm text-amber-700">99,9% do seu DNA √© id√™ntico ao de qualquer outra pessoa no
                                planeta. √â apenas 0,1% que faz voc√™ ser √∫nico!</p>
                        </div>

                        <div class="bg-purple-50 p-5 rounded-2xl hover:bg-purple-100 transition-colors">
                            <span class="text-2xl mb-2 block">üíæ</span>
                            <h5 class="font-bold text-purple-800 mb-1">Super HD</h5>
                            <p class="text-sm text-purple-700">O DNA armazena muita informa√ß√£o. Um grama de DNA poderia
                                armazenar todos os dados do Google, Facebook e Apple juntos!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const speciesDataInternal = {
            "ambienteMarinho": [
                { "id": "baleia1", "sequence": "ATGCTGATCAGT", "name": "Baleia-azul", "scientificName": "Balaenoptera musculus", "description": "Maior animal que j√° existiu. Se alimenta de krill e vive em todos os oceanos.", "habitat": "Oceanos do mundo todo, migra entre √°guas frias e quentes.", "geneticFeatures": "Genes ligados √† longevidade, reparo celular e resist√™ncia a doen√ßas.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Mammalia", "order": "Cetacea", "family": "Balaenopteridae", "genus": "Balaenoptera", "species": "B. musculus" }, "curiosity": "O cora√ß√£o pesa tanto quanto um carro popular.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Anim1754_-_Flickr_-_NOAA_Photo_Library.jpg/640px-Anim1754_-_Flickr_-_NOAA_Photo_Library.jpg" },
                { "id": "tubarao1", "sequence": "ATGCTGATCCGC", "name": "Tubar√£o-branco", "scientificName": "Carcharodon carcharias", "description": "Grande predador marinho, famoso por sua for√ßa e velocidade.", "habitat": "Costas temperadas e tropicais de todos os oceanos.", "geneticFeatures": "Genes ligados √† regenera√ß√£o, cicatriza√ß√£o e resist√™ncia a c√¢ncer.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Chondrichthyes", "order": "Lamniformes", "family": "Lamnidae", "genus": "Carcharodon", "species": "C. carcharias" }, "curiosity": "Pode detectar uma gota de sangue em 100 litros de √°gua.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/White_shark.jpg/640px-White_shark.jpg" },
                { "id": "tartarugamarinha1", "sequence": "ATGCTAATCCGG", "name": "Tartaruga-verde", "scientificName": "Chelonia mydas", "description": "Uma das maiores tartarugas marinhas, herb√≠vora na fase adulta.", "habitat": "Oceanos tropicais e subtropicais, recifes e estu√°rios.", "geneticFeatures": "Genes ligados √† navega√ß√£o oce√¢nica e resist√™ncia em longas jornadas.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Reptilia", "order": "Testudines", "family": "Cheloniidae", "genus": "Chelonia", "species": "C. mydas" }, "curiosity": "Migra mais de 2000 km entre √°reas de alimenta√ß√£o e reprodu√ß√£o.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Green_turtle_swimming_over_coral_reefs_in_Kona.jpg/640px-Green_turtle_swimming_over_coral_reefs_in_Kona.jpg" },
                { "id": "peixe1", "sequence": "ATGCTGATTCCA", "name": "Olho-de-boi", "scientificName": "Seriola dumerili", "description": "Peixe grande e veloz, vive em cardumes, comum na pesca.", "habitat": "√Åguas costeiras e recifes de mares tropicais e subtropicais.", "geneticFeatures": "Genes ligados ao crescimento r√°pido e resist√™ncia √† salinidade.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Actinopterygii", "order": "Carangiformes", "family": "Carangidae", "genus": "Seriola", "species": "S. dumerili" }, "curiosity": "Nada at√© 60 km/h para capturar presas.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Seriola_dumerili_in_Eishin-maru.jpg/640px-Seriola_dumerili_in_Eishin-maru.jpg" },
                { "id": "pinguim1", "sequence": "ATGCTGATCACG", "name": "Pinguim-imperador", "scientificName": "Aptenodytes forsteri", "description": "Maior dos pinguins, vive na Ant√°rtida e resiste a temperaturas extremas.", "habitat": "Geleiras da Ant√°rtida e √°guas geladas do oceano.", "geneticFeatures": "Genes adaptados para conservar calor e produzir prote√≠nas anticongelantes.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Aves", "order": "Sphenisciformes", "family": "Spheniscidae", "genus": "Aptenodytes", "species": "A. forsteri" }, "curiosity": "Pode ficar at√© 2 meses sem comer protegendo seus ovos.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Emperor_Penguin_Manchot_empereur.jpg/640px-Emperor_Penguin_Manchot_empereur.jpg" }
            ],
            "ambienteFloresta": [
                { "id": "onca1", "sequence": "ATGGTCATCAGT", "name": "On√ßa-pintada", "scientificName": "Panthera onca", "description": "Maior felino das Am√©ricas, tem uma mordida superforte, capaz de quebrar cascos.", "habitat": "Florestas tropicais da Amaz√¥nia, Cerrado e Pantanal.", "geneticFeatures": "Genes ligados √† vis√£o noturna, olfato apurado e for√ßa muscular.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Mammalia", "order": "Carnivora", "family": "Felidae", "genus": "Panthera", "species": "P. onca" }, "curiosity": "√â o √∫nico felino que gosta de nadar e ca√ßa na √°gua.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Standing_jaguar.jpg/640px-Standing_jaguar.jpg" },
                { "id": "aracari1", "sequence": "ATCGTCATCCGC", "name": "Ara√ßari", "scientificName": "Pteroglossus aracari", "description": "Ave parecida com tucano, com bico longo e colorido, vive em grupos e se alimenta de frutas.", "habitat": "Florestas tropicais da Amaz√¥nia e Mata Atl√¢ntica.", "geneticFeatures": "Genes que ajudam no equil√≠brio e desenvolvimento do bico leve.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Aves", "order": "Piciformes", "family": "Ramphastidae", "genus": "Pteroglossus", "species": "P. aracari" }, "curiosity": "O bico parece pesado, mas √© bem leve, como se fosse feito de espuma.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Pteroglossus_aracari_-cesto_in_captivity-8a.jpg/640px-Pteroglossus_aracari_-cesto_in_captivity-8a.jpg" },
                { "id": "jiboia1", "sequence": "ATGGTGATCCGG", "name": "Jiboia", "scientificName": "Boa constrictor", "description": "Serpente grande e n√£o venenosa. Mata suas presas enrolando seu corpo e sufocando.", "habitat": "Florestas tropicais e √°reas pr√≥ximas a rios em toda a Am√©rica Latina.", "geneticFeatures": "Genes relacionados ao olfato desenvolvido e musculatura forte.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Reptilia", "order": "Squamata", "family": "Boidae", "genus": "Boa", "species": "B. constrictor" }, "curiosity": "Possui sensores t√©rmicos que funcionam como vis√£o infravermelha.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Boa_constrictor%2C_Va%C5%88kovka%2C_Brno_%281%29.jpg/640px-Boa_constrictor%2C_Va%C5%88kovka%2C_Brno_%281%29.jpg" },
                { "id": "sapo1", "sequence": "ATGGTCATACGA", "name": "Sapo-ponta-de-flecha", "scientificName": "Dendrobates tinctorius", "description": "Sapo colorido, famoso por sua pele com toxinas potentes.", "habitat": "Florestas tropicais da Am√©rica do Sul, principalmente na Amaz√¥nia.", "geneticFeatures": "Genes que produzem toxinas e cores vivas para alertar predadores.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Amphibia", "order": "Anura", "family": "Dendrobatidae", "genus": "Dendrobates", "species": "D. tinctorius" }, "curiosity": "Se criado em cativeiro, n√£o √© venenoso porque n√£o come insetos t√≥xicos.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Dendrobates_tinctorius_%28MNHN_RA_2002.633%29.png/640px-Dendrobates_tinctorius_%28MNHN_RA_2002.633%29.png" },
                { "id": "macaco1", "sequence": "ATGGTTATCACC", "name": "Macaco-prego", "scientificName": "Sapajus apella", "description": "Macaco muito inteligente, usa ferramentas como pedras para quebrar sementes.", "habitat": "Florestas tropicais da Am√©rica do Sul, como Amaz√¥nia e Mata Atl√¢ntica.", "geneticFeatures": "Genes relacionados √† intelig√™ncia, uso de ferramentas e vida social complexa.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Mammalia", "order": "Primates", "family": "Cebidae", "genus": "Sapajus", "species": "S. apella" }, "curiosity": "Usa pedras como martelo para quebrar castanhas.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Tufted_capuchin_Costa_Rica.jpg/640px-Tufted_capuchin_Costa_Rica.jpg" }
            ],
            "ambienteSolo": [
                { "id": "formiga1", "sequence": "TTGACCTGTAGA", "name": "Formiga-cortadeira", "scientificName": "Atta cephalotes", "description": "Formiga que corta folhas para cultivar fungos, que s√£o sua principal alimenta√ß√£o.", "habitat": "Florestas tropicais da Am√©rica do Sul e Central.", "geneticFeatures": "Genes ligados √† vida social, simbiose com fungos e divis√£o de trabalho.", "taxonomy": { "kingdom": "Animalia", "phylum": "Arthropoda", "class": "Insecta", "order": "Hymenoptera", "family": "Formicidae", "genus": "Atta", "species": "A. cephalotes" }, "curiosity": "Uma √∫nica col√¥nia pode ter at√© 5 milh√µes de formigas!", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Atta_cephalotes_worker_with_leaf.jpg/640px-Atta_cephalotes_worker_with_leaf.jpg" },
                { "id": "aranha1", "sequence": "TTGACCTGCAGC", "name": "Aranha", "scientificName": "Troglohyphantes vignai", "description": "Aranha pequena que vive em cavernas, quase sem olhos e sem cor, adaptada √† escurid√£o.", "habitat": "Cavernas do norte da It√°lia.", "geneticFeatures": "Genes que ajudam na perda de pigmenta√ß√£o, olhos reduzidos e maior sensibilidade ao toque.", "taxonomy": { "kingdom": "Animalia", "phylum": "Arthropoda", "class": "Arachnida", "order": "Araneae", "family": "Linyphiidae", "genus": "Troglohyphantes", "species": "T. vignai" }, "curiosity": "Diferente de muitas aranhas, n√£o usa teia para ca√ßar.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Troglohyphantes_vignai.jpg/640px-Troglohyphantes_vignai.jpg" },
                { "id": "escorpiao1", "sequence": "TTGACCTGTAGG", "name": "Escorpi√£o", "scientificName": "Typhlochactas mitchelli", "description": "Escorpi√£o que vive em cavernas do M√©xico, sem olhos e de cor clara.", "habitat": "Cavernas do M√©xico, especialmente em ambientes de calc√°rio.", "geneticFeatures": "Genes ligados √† vida sem luz, sensores de vibra√ß√£o e toque mais desenvolvidos.", "taxonomy": { "kingdom": "Animalia", "phylum": "Arthropoda", "class": "Arachnida", "order": "Scorpiones", "family": "Typhlochactidae", "genus": "Typhlochactas", "species": "T. mitchelli" }, "curiosity": "√â um dos poucos escorpi√µes do mundo totalmente adaptados √†s cavernas.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Scorpion_lateral_view.jpg/640px-Scorpion_lateral_view.jpg" },
                { "id": "grilo1", "sequence": "TTGACCTGTAGT", "name": "Grilo-preto", "scientificName": "Gryllus assimilis", "description": "Grilo que canta esfregando suas asas. Vive no solo, escondido durante o dia e ativo √† noite.", "habitat": "Am√©ricas do Norte, Central e do Sul, em florestas, campos e at√© √°reas urbanas.", "geneticFeatures": "Genes que controlam a produ√ß√£o de som pelas asas e audi√ß√£o pelas pernas.", "taxonomy": { "kingdom": "Animalia", "phylum": "Arthropoda", "class": "Insecta", "order": "Orthoptera", "family": "Gryllidae", "genus": "Gryllus", "species": "G. assimilis" }, "curiosity": "Cada esp√©cie tem seu pr√≥prio canto, como se fosse uma assinatura sonora.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Gryllus_assimilis_male.jpg/640px-Gryllus_assimilis_male.jpg" }
            ],
            "ambienteCavernaFossil": [
                { "id": "peixecaverna1", "sequence": "ATGTGCAATAGT", "name": "Peixe-cego-de-caverna", "scientificName": "Astyanax mexicanus", "description": "Peixe que vive no escuro das cavernas, sem olhos e sem cor, usa sensores para se orientar.", "habitat": "Cavernas e rios subterr√¢neos no M√©xico.", "geneticFeatures": "Genes ligados √† perda dos olhos e aumento da sensibilidade t√°til e qu√≠mica.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Actinopterygii", "order": "Characiformes", "family": "Characidae", "genus": "Astyanax", "species": "A. mexicanus" }, "curiosity": "Mesmo sem olhos, navega muito bem usando sensores que percebem vibra√ß√µes na √°gua.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Astyanax_mexicanus_c_050421_w.jpg/640px-Astyanax_mexicanus_c_050421_w.jpg" },
                { "id": "olm1", "sequence": "ATGTGTAATCGC", "name": "Salamandra-cega", "scientificName": "Proteus anguinus", "description": "Anf√≠bio p√°lido e sem olhos, vive em cavernas da Europa e pode viver mais de 100 anos.", "habitat": "Cavernas da Eslov√™nia, Cro√°cia, It√°lia e B√≥snia.", "geneticFeatures": "Genes que favorecem regenera√ß√£o, baixa taxa de metabolismo e vida longa em ambientes escuros.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Amphibia", "order": "Caudata", "family": "Proteidae", "genus": "Proteus", "species": "P. anguinus" }, "curiosity": "Pode ficar at√© 10 anos sem comer!", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/Proteus_anguinus_Postojna_1.jpg/640px-Proteus_anguinus_Postojna_1.jpg" },
                { "id": "tiranossauro1", "sequence": "ATGTGAATCCGA", "name": "Tiranossauro rex", "scientificName": "Tyrannosaurus rex", "description": "Um dos maiores dinossauros carn√≠voros. Forte, r√°pido e com a mordida mais poderosa da hist√≥ria.", "habitat": "Am√©rica do Norte h√° 68 a 66 milh√µes de anos.", "geneticFeatures": "N√£o h√° DNA, mas prote√≠nas mostram rela√ß√£o pr√≥xima com as aves atuais.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Reptilia", "order": "Saurischia", "family": "Tyrannosauridae", "genus": "Tyrannosaurus", "species": "T. rex" }, "curiosity": "Sua mordida era forte o suficiente para esmagar ossos.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Tyrannosaurus_Rex_Holotype.jpg/640px-Tyrannosaurus_Rex_Holotype.jpg" },
                { "id": "mamute1", "sequence": "ATGTGCAACACC", "name": "Mamute-lanoso", "scientificName": "Mammuthus primigenius", "description": "Parente dos elefantes atuais, tinha pelos grossos e presas grandes, adaptado ao frio extremo.", "habitat": "Regi√µes frias da Europa, √Åsia e Am√©rica do Norte na Era do Gelo.", "geneticFeatures": "Possu√≠mos DNA real, com genes ligados a pelos longos, gordura e resist√™ncia ao frio.", "taxonomy": { "kingdom": "Animalia", "phylum": "Chordata", "class": "Mammalia", "order": "Proboscidea", "family": "Elephantidae", "genus": "Mammuthus", "species": "M. primigenius" }, "curiosity": "Cientistas tentam trazer de volta uma esp√©cie parecida usando engenharia gen√©tica.", "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Mammoth_Sungari_River.jpg/640px-Mammoth_Sungari_River.jpg" }
            ]
        };

        let speciesData = speciesDataInternal; 

        async function loadData() {
            try {
                const response = await fetch('animals.json');
                if (response.ok) {
                    const data = await response.json();
                    speciesData = data;
                    console.log("Dados carregados do arquivo externo com sucesso.");
                } else {
                    console.warn("Arquivo animals.json n√£o encontrado ou erro na resposta. Usando dados internos.");
                }
            } catch (e) {
                console.warn("Falha no fetch. Usando dados internos de fallback.", e);
            }
        }

        let currentScreen = '';
        let currentSequence = '';
        let screenHistory = [];
        let identifiedAnimal = null;
        let identifiedEnvironment = null;

        const screens = {
            home: document.getElementById('screen-home'),
            scanQr: document.getElementById('screen-scan-qr'),
            introSequence: document.getElementById('screen-intro-sequence'),
            genomeAssembly: document.getElementById('screen-genome-assembly'),
            identificationCard: document.getElementById('screen-identification-card'),
            phylogeneticTree: document.getElementById('screen-phylogenetic-tree'),
            gallery: document.getElementById('screen-gallery')
        };

        // --- Data for Phylogenetic Tree ---
        const phylogenyGroups = [
            {
                name: "Vertebrados Aqu√°ticos",
                member_ids: ["baleia1", "tubarao1", "tartarugamarinha1", "peixe1", "pinguim1"],
                tree_map: {
                    A: "baleia1",
                    B: "tartarugamarinha1",
                    C: "tubarao1",
                    D: "peixe1"
                },
                characteristics: [
                    { id: 1, text: "Corpo coberto por escamas" },
                    { id: 2, text: "Respira√ß√£o por br√¢nquias" }
                ]
            },
            {
                name: "Ambiente Florestal",
                member_ids: ["onca1", "aracari1", "jiboia1", "macaco1", "sapo1"],
                tree_map: {
                    A: "macaco1",
                    B: "onca1",
                    C: "aracari1",
                    D: "jiboia1"
                },
                characteristics: [
                    { id: 1, text: "Homeotermia (Sangue quente)" },
                    { id: 2, text: "Presen√ßa de pelos/penas" }
                ]
            },
            {
                name: "Evolu√ß√£o dos Dinossauros e Parentes",
                member_ids: ["peixecaverna1", "olm1", "tiranossauro1", "mamute1"],
                tree_map: {
                    A: "mamute1",
                    B: "peixecaverna1",
                    C: "olm1",
                    D: "tiranossauro1"
                },
                characteristics: [
                    { id: 1, text: "Amniotas (Ovo com casca)" },
                    { id: 2, text: "Postura ereta" }
                ]
            },
            {
                name: "Artr√≥podes",
                member_ids: ["formiga1", "aranha1", "escorpiao1", "grilo1"],
                tree_map: {
                    A: "escorpiao1",
                    B: "aranha1",
                    C: "grilo1",
                    D: "formiga1"
                },
                characteristics: [
                    { id: 1, text: "Quel√≠ceras (Aracn√≠deos)" },
                    { id: 2, text: "Asas (Insetos)" }
                ]
            },
            {
                name: "Default Group",
                member_ids: [],
                tree_map: { A: "onca1", B: "tartarugamarinha1", C: "sapo1", D: "peixe1" },
                characteristics: [
                    { id: 1, text: "Quatro Membros (Tetrapoda)" },
                    { id: 2, text: "Ovo Amni√≥tico" }
                ]
            }
        ];


        // --- Utility Functions ---
        function showScreen(screenId, isBack = false) {
            if (!isBack && currentScreen && currentScreen !== screenId) {
                screenHistory.push(currentScreen);
            }

            // Fade out current
            Object.values(screens).forEach(screen => {
                if (!screen.classList.contains('hidden')) {
                    screen.style.opacity = '0';
                    setTimeout(() => {
                        screen.classList.add('hidden');
                    }, 200);
                } else {
                    screen.classList.add('hidden');
                }
            });

            // Fade in new
            setTimeout(() => {
                if (screens[screenId]) {
                    screens[screenId].classList.remove('hidden');
                    screens[screenId].style.opacity = '0';
                    // Trigger reflow
                    void screens[screenId].offsetWidth;
                    screens[screenId].style.opacity = '1';
                    currentScreen = screenId;
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }, 200);
        }

        function resetApp() {
            currentSequence = '';
            identifiedAnimal = null;
            identifiedEnvironment = null;
            screenHistory = [];

            // Clear inputs
            document.getElementById('sequence-input').value = '';
            const errorMsg = document.getElementById('sequence-error-message');
            if (errorMsg) errorMsg.textContent = '';
            
            // Clear hint
            clearSequenceHint();

            showScreen('home');
        }

        function goBack() {
            if (screenHistory.length > 0) {
                const previousScreen = screenHistory.pop();
                showScreen(previousScreen, true); 
            } else {
                showScreen('home');
            }
        }

        function formatSequence(sequence) {
            if (!sequence) return '';
            return sequence.match(/.{1,3}/g).join(' ');
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function findAnimalById(id) {
            for (const env in speciesData) {
                const animal = speciesData[env].find(a => a.id === id);
                if (animal) return animal;
            }
            return null;
        }

        function findAnimalBySequence(sequence) {
            for (const env in speciesData) {
                const animal = speciesData[env].find(a => a.sequence === sequence);
                if (animal) {
                    identifiedEnvironment = env;
                    return animal;
                }
            }
            return null;
        }

        function calculateSimilarity(seq1, seq2) {
            if (seq1.length !== seq2.length) return 0;
            let matches = 0;
            for (let i = 0; i < seq1.length; i++) {
                if (seq1[i] === seq2[i]) {
                    matches++;
                }
            }
            return (matches / seq1.length) * 100;
        }


        // --- App Logic ---

        document.getElementById('header-logo').addEventListener('click', resetApp);

        document.querySelectorAll('.btn-back').forEach(button => {
            button.addEventListener('click', resetApp); 
        });

        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('click', () => {
                clearSequenceHint(); 
                showScreen('scanQr');
            });
        });

        document.getElementById('btn-back-to-home').addEventListener('click', () => {
            showScreen('home');
        });

        document.getElementById('btn-start-viewing-sequence').onclick = () => {
            showScreen('genomeAssembly');
            setupGenomeAssemblyPuzzle(currentSequence);
        };
        
        // --- Gallery Logic ---
        document.getElementById('btn-open-gallery').addEventListener('click', () => {
            renderGallery();
            showScreen('gallery');
        });

        function renderGallery() {
            const galleryGrid = document.getElementById('gallery-grid');
            galleryGrid.innerHTML = '';

            let allAnimals = [];
            Object.keys(speciesData).forEach(env => {
                speciesData[env].forEach(animal => {
                    allAnimals.push({...animal, environment: env});
                });
            });

            // Sort alphabetically by name
            allAnimals.sort((a, b) => a.name.localeCompare(b.name));

            allAnimals.forEach(animal => {
                const card = document.createElement('div');
                card.className = "bg-white rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all cursor-pointer border border-slate-100 flex flex-col gap-3 group";
                
                // Handle image error
                const imgSrc = animal.image || 'https://placehold.co/400x300/e2e8f0/94a3b8?text=Sem+Imagem';
                
                card.innerHTML = `
                    <div class="h-40 w-full overflow-hidden rounded-xl bg-slate-100 relative">
                        <img src="${imgSrc}" alt="${animal.name}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" loading="lazy">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-center pb-2">
                            <span class="text-white text-xs font-bold px-2 py-1 bg-emerald-500 rounded-full">Selecionar</span>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-bold text-slate-800 text-lg leading-tight">${animal.name}</h3>
                        <p class="text-xs text-slate-400 italic">${animal.scientificName}</p>
                    </div>
                `;

                card.addEventListener('click', () => {
                   selectGalleryAnimal(animal); 
                });

                galleryGrid.appendChild(card);
            });
        }

        function selectGalleryAnimal(animal) {
            // Setup hint
            const hintContainer = document.getElementById('sequence-hint-container');
            const hintName = document.getElementById('hint-animal-name');
            const hintCode = document.getElementById('hint-sequence-code');
            
            hintName.textContent = animal.name;
            hintCode.textContent = animal.sequence;
            
            hintContainer.classList.remove('hidden');
            
            showScreen('scanQr');
        }

        function clearSequenceHint() {
            document.getElementById('sequence-hint-container').classList.add('hidden');
        }

        window.copyHintToClipboard = function(element) {
            const text = element.querySelector('span').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const originalBg = element.style.backgroundColor;
                element.style.backgroundColor = '#d1fae5'; // light emerald
                setTimeout(() => {
                    element.style.backgroundColor = originalBg;
                }, 200);
            });
        };

        // Puzzle Logic
        let originalSequenceBlocks = [];
        let assembledBlocks = [];
        let sequenceDisplayTimeout = null;

        function handleDnaBlockClick(event) {
            const clickedBlock = event.target;
            const sourceArea = document.getElementById('dna-blocks-source');
            const targetArea = document.getElementById('dna-target-area');

            if (clickedBlock.parentElement === sourceArea) {
                if (targetArea.querySelector('span')) {
                    targetArea.innerHTML = '';
                }
                targetArea.appendChild(clickedBlock);
                clickedBlock.classList.add('bg-emerald-100', 'text-emerald-700', 'border-emerald-300');
                clickedBlock.classList.remove('bg-white');
            } else if (clickedBlock.parentElement === targetArea) {
                sourceArea.appendChild(clickedBlock);
                clickedBlock.classList.remove('bg-emerald-100', 'text-emerald-700', 'border-emerald-300');
                clickedBlock.classList.add('bg-white');

                // Re-sort source
                const sourceBlocks = Array.from(sourceArea.children);
                sourceBlocks.sort((a, b) => parseInt(a.dataset.originalIndex) - parseInt(b.dataset.originalIndex));
                sourceBlocks.forEach(block => sourceArea.appendChild(block));

                if (targetArea.children.length === 0) {
                    targetArea.innerHTML = '<span class="text-slate-400 text-sm pointer-events-none">Clique nos blocos abaixo para montar aqui</span>';
                }
            }
            assembledBlocks = Array.from(targetArea.querySelectorAll('.dna-block')).map(block => block.textContent);
        }

        function setupGenomeAssemblyPuzzle(sequence) {
            const sequenceDiv = document.getElementById('original-sequence-display');
            sequenceDiv.textContent = formatSequence(sequence);

            originalSequenceBlocks = sequence.match(/.{1,3}/g);
            const shuffledBlocks = shuffleArray([...originalSequenceBlocks]);

            const sourceArea = document.getElementById('dna-blocks-source');
            sourceArea.innerHTML = '';
            assembledBlocks = [];

            shuffledBlocks.forEach((block, index) => {
                const dnaBlock = document.createElement('div');
                dnaBlock.classList.add('dna-block', 'px-4', 'py-3', 'rounded-lg', 'bg-white', 'text-slate-700', 'font-mono', 'font-bold', 'cursor-pointer', 'hover:shadow-md', 'transition-all', 'select-none');
                dnaBlock.textContent = block;
                dnaBlock.dataset.originalIndex = index;
                sourceArea.appendChild(dnaBlock);
                dnaBlock.addEventListener('click', handleDnaBlockClick);
            });

            const targetArea = document.getElementById('dna-target-area');
            targetArea.innerHTML = '<span class="text-slate-400 text-sm pointer-events-none">Clique nos blocos abaixo para montar aqui</span>';

            document.getElementById('btn-check-assembly').onclick = checkGenomeAssembly;
            document.getElementById('btn-check-assembly').classList.remove('hidden'); // Ensure visible
            document.getElementById('btn-assembly-next').classList.add('hidden');
            document.getElementById('assembly-message').textContent = '';
            document.getElementById('assembly-message').className = 'h-6 font-semibold';

            const showSequenceBtn = document.getElementById('btn-show-sequence');
            showSequenceBtn.onclick = () => {
                const seqDisplay = document.getElementById('original-sequence-display');
                seqDisplay.classList.remove('hidden');
                showSequenceBtn.disabled = true;
                showSequenceBtn.innerHTML = `
                    <svg class="animate-spin h-4 w-4 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Visualizando...`;

                if (sequenceDisplayTimeout) clearTimeout(sequenceDisplayTimeout);

                sequenceDisplayTimeout = setTimeout(() => {
                    seqDisplay.classList.add('hidden');
                    showSequenceBtn.disabled = false;
                    showSequenceBtn.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                        Espiar Sequ√™ncia Original (3s)`;
                }, 3000);
            };
        }

        function checkGenomeAssembly() {
            const assembledSequence = assembledBlocks.join('');
            const originalFullSequence = originalSequenceBlocks.join('');
            const messageElement = document.getElementById('assembly-message');
            const nextButton = document.getElementById('btn-assembly-next');
            const checkBtn = document.getElementById('btn-check-assembly');

            if (assembledSequence === originalFullSequence) {
                messageElement.textContent = 'Montagem perfeita! O c√≥digo est√° correto.';
                messageElement.className = 'h-6 font-bold text-emerald-600 flex items-center gap-2';

                checkBtn.classList.add('hidden');
                nextButton.classList.remove('hidden');
                nextButton.classList.add('animate-bounce-slow');
            } else {
                messageElement.textContent = 'Ainda h√° erros. Tente ajustar a ordem.';
                messageElement.className = 'h-6 font-bold text-rose-500';
            }
        }

        document.getElementById('btn-assembly-next').onclick = () => {
            identifiedAnimal = findAnimalBySequence(currentSequence);
            if (identifiedAnimal) {
                showScreen('identificationCard');
                displayIdentificationCard(identifiedAnimal);
                setupGeneticAlignment(identifiedAnimal);
            } else {
                showScreen('home');
            }
        };

        function setupGeneticAlignment(animal) {
            const visualizationArea = document.getElementById('alignment-visualization');
            const summaryText = document.getElementById('alignment-summary');
            visualizationArea.innerHTML = '';

            if (!animal || !identifiedEnvironment) return;

            const animalsInSameEnvironment = speciesData[identifiedEnvironment];
            const similarSpecies = animalsInSameEnvironment
                .map(otherAnimal => ({
                    name: otherAnimal.name,
                    similarity: otherAnimal.id === animal.id ? 100 : calculateSimilarity(animal.sequence, otherAnimal.sequence),
                    isUserAnimal: otherAnimal.id === animal.id
                }))
                .sort((a, b) => b.similarity - a.similarity)
                .slice(0, 4);

            similarSpecies.forEach((s, index) => {
                const barContainer = document.createElement('div');
                barContainer.className = 'flex items-center gap-3';

                // Delay animation based on index
                barContainer.style.animation = `slideUp 0.5s ease-out ${index * 0.1}s forwards`;
                barContainer.style.opacity = '0';

                const nameSpan = document.createElement('span');
                nameSpan.className = 'w-32 text-slate-600 font-medium text-xs text-right truncate';
                nameSpan.textContent = s.name;

                const progressBarWrapper = document.createElement('div');
                progressBarWrapper.className = 'flex-grow bg-slate-100 rounded-full h-3 overflow-hidden shadow-inner';

                const progressBarFill = document.createElement('div');
                progressBarFill.className = 'h-full rounded-full transition-all duration-1000 ease-out';
                progressBarFill.style.width = '0%'; 

                setTimeout(() => {
                    progressBarFill.style.width = `${s.similarity}%`;
                }, 300 + (index * 100));

                if (s.isUserAnimal) {
                    progressBarFill.classList.add('bg-gradient-to-r', 'from-emerald-400', 'to-emerald-600');
                } else {
                    progressBarFill.classList.add('bg-indigo-300');
                }

                const percentageSpan = document.createElement('span');
                percentageSpan.className = 'text-slate-500 font-bold text-xs w-10 text-right';
                percentageSpan.textContent = `${s.similarity.toFixed(0)}%`;

                progressBarWrapper.appendChild(progressBarFill);
                barContainer.append(nameSpan, progressBarWrapper, percentageSpan);
                visualizationArea.appendChild(barContainer);
            });

            summaryText.textContent = `Comparado com outras esp√©cies do grupo "${identifiedEnvironment.replace('ambiente', '')}".`;
        }

        function setupPhylogeneticTree(animal) {
            const treeContainer = document.getElementById('phylogenetic-tree-visualization');
            const characteristicsContainer = document.getElementById('phylogenetic-characteristics');
            const animalListContainer = document.getElementById('animal-list-box');

            treeContainer.innerHTML = '';
            characteristicsContainer.innerHTML = '';
            animalListContainer.innerHTML = '';

            let group = phylogenyGroups.find(g => g.member_ids.includes(animal.id));
            if (!group) {
                group = phylogenyGroups.find(g => g.name === "Default Group");
            }

            const { tree_map, characteristics } = group;
            const animals = {
                A: findAnimalById(tree_map.A),
                B: findAnimalById(tree_map.B),
                C: findAnimalById(tree_map.C),
                D: findAnimalById(tree_map.D)
            };

            const layout = {
                branches: [
                    { top: '198px', left: '10%', width: '15%', height: '4px' },
                    { top: '98px', left: '25%', width: '4px', height: '200px' },
                    { top: '298px', left: '25%', width: '15%', height: '4px' },
                    { top: '98px', left: '25%', width: '15%', height: '4px' },
                    { top: '23px', left: '40%', width: '4px', height: '150px' },
                    { top: '173px', left: '40%', width: '15%', height: '4px' },
                    { top: '23px', left: '40%', width: '15%', height: '4px' },
                    { top: '-2px', left: '55%', width: '4px', height: '100px' },
                    { top: '98px', left: '55%', width: '15%', height: '4px' },
                    { top: '-2px', left: '55%', width: '15%', height: '4px' }
                ],
                nodes: [
                    { id: 1, top: '183px', left: '23%' },
                    { id: 2, top: '83px', left: '38%' }
                ],
                leaves: [
                    { label: 'A', animal: animals.A, top: '-12px', left: '72%' },
                    { label: 'B', animal: animals.B, top: '88px', left: '72%' },
                    { label: 'C', animal: animals.C, top: '163px', left: '57%' },
                    { label: 'D', animal: animals.D, top: '288px', left: '42%' }
                ]
            };

            layout.branches.forEach(b => {
                const branchEl = document.createElement('div');
                branchEl.className = 'tree-branch';
                Object.assign(branchEl.style, b);
                treeContainer.appendChild(branchEl);
            });

            layout.nodes.forEach(pos => {
                const nodeEl = document.createElement('div');
                nodeEl.className = 'tree-node';
                nodeEl.textContent = pos.id;
                nodeEl.style.top = pos.top;
                nodeEl.style.left = pos.left;
                treeContainer.appendChild(nodeEl);
            });

            let animalListHTML = '<ul class="space-y-2">';
            layout.leaves.forEach(pos => {
                const labelEl = document.createElement('div');
                labelEl.className = 'animal-label shadow-sm border border-slate-200';
                labelEl.textContent = pos.label;
                labelEl.style.top = pos.top;
                labelEl.style.left = pos.left;

                // Highlight if it matches current animal
                if (pos.animal.id === animal.id) {
                    labelEl.classList.add('bg-emerald-100', 'text-emerald-700', 'border-emerald-300', 'ring-2', 'ring-emerald-200');
                }

                treeContainer.appendChild(labelEl);

                const isCurrent = pos.animal.id === animal.id ? 'font-bold text-emerald-700 bg-emerald-50 rounded-md p-1' : '';
                animalListHTML += `<li class="${isCurrent} flex items-center gap-2"><span class="font-bold w-4 inline-block">${pos.label}:</span> ${pos.animal.name}</li>`;
            });
            animalListHTML += '</ul>';
            animalListContainer.innerHTML = animalListHTML;

            let characteristicsHTML = '';
            characteristics.forEach(char => {
                characteristicsHTML += `
                <div class="flex items-center gap-3 text-sm text-slate-700">
                    <div class="w-6 h-6 rounded-full bg-rose-100 text-rose-600 font-bold flex items-center justify-center shrink-0 text-xs border border-rose-200">${char.id}</div>
                    <span>${char.text}</span>
                </div>`;
            });
            characteristicsContainer.innerHTML = characteristicsHTML;
        }

        document.getElementById('btn-tree-next').onclick = resetApp;

        function displayIdentificationCard(animal) {
            if (!animal) return;

            document.getElementById('card-animal-name').innerHTML = animal.name;
            document.getElementById('card-scientific-name-subtitle').innerHTML = `<i>${animal.scientificName}</i>`;

            const imgEl = document.getElementById('card-animal-image');
            imgEl.src = animal.image;
            imgEl.onerror = function () {
                this.src = 'https://placehold.co/400x300/e2e8f0/94a3b8?text=Imagem+Indispon%C3%ADvel';
            };

            document.getElementById('card-description').textContent = animal.description;
            document.getElementById('card-habitat').textContent = animal.habitat;
            document.getElementById('card-genetic-features').textContent = animal.geneticFeatures;
            document.getElementById('card-curiosity').textContent = animal.curiosity;

            const taxonomy = animal.taxonomy || {};
            document.getElementById('card-taxonomy-kingdom').textContent = taxonomy.kingdom;
            document.getElementById('card-taxonomy-phylum').textContent = taxonomy.phylum;
            document.getElementById('card-taxonomy-class').textContent = taxonomy.class;
            document.getElementById('card-taxonomy-order').textContent = taxonomy.order;
            document.getElementById('card-taxonomy-family').textContent = taxonomy.family;
            document.getElementById('card-taxonomy-genus').textContent = taxonomy.genus;
            document.getElementById('card-taxonomy-species').textContent = taxonomy.species;
        }

        document.getElementById('btn-identify-another').onclick = () => {
            showScreen('phylogeneticTree');
            setupPhylogeneticTree(identifiedAnimal);
        };

        function validateAndProcessSequence(sequence) {
            const errorMessageEl = document.getElementById('sequence-error-message');
            if (!errorMessageEl) return;
            errorMessageEl.textContent = '';

            if (!/^[ATCG]+$/.test(sequence)) {
                errorMessageEl.textContent = 'Apenas caracteres A, T, C e G s√£o permitidos.';
                return;
            }

            if (sequence.length !== 12) {
                errorMessageEl.textContent = 'A sequ√™ncia deve ter exatamente 12 letras.';
                return;
            }

            const animal = findAnimalBySequence(sequence);
            if (!animal) {
                errorMessageEl.textContent = 'Sequ√™ncia desconhecida no banco de dados.';
                return;
            }

            currentSequence = sequence;
            identifiedAnimal = animal;
            showScreen('introSequence');
        }


        // --- Modal Logic ---
        const privacyModal = document.getElementById('privacy-modal');
        const studyModal = document.getElementById('study-modal');

        // Privacy Modal Listeners
        document.getElementById('privacy-policy-link').addEventListener('click', (e) => {
            e.preventDefault();
            privacyModal.classList.remove('hidden');
            privacyModal.classList.add('flex');
        });

        document.getElementById('privacy-close-btn').addEventListener('click', () => {
            privacyModal.classList.add('hidden');
            privacyModal.classList.remove('flex');
        });
        document.getElementById('modal-understood-btn').addEventListener('click', () => {
            privacyModal.classList.add('hidden');
            privacyModal.classList.remove('flex');
        });

        // Study Modal Listeners
        document.getElementById('study-modal-link').addEventListener('click', (e) => {
            e.preventDefault();
            studyModal.classList.remove('hidden');
            studyModal.classList.add('flex');
        });

        document.getElementById('study-close-btn').addEventListener('click', () => {
            studyModal.classList.add('hidden');
            studyModal.classList.remove('flex');
        });

        // Close on backdrop click
        [privacyModal, studyModal].forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target.id.includes('backdrop') || e.target === modal) {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }
            });
        });

        // Tab Logic for Study Modal
        const tabs = document.querySelectorAll('.tab-btn');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                contents.forEach(c => c.classList.remove('active'));

                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });


        // Initialization
        document.addEventListener('DOMContentLoaded', () => {

            loadData(); 

            document.getElementById('btn-submit-sequence').addEventListener('click', () => {
                const inputEl = document.getElementById('sequence-input');
                const sequence = inputEl.value.toUpperCase().trim();
                validateAndProcessSequence(sequence);
            });

            // Check URL Params
            const urlParams = new URLSearchParams(window.location.search);
            const seqParam = urlParams.get('seq');
            if (seqParam) {
                validateAndProcessSequence(seqParam.toUpperCase());
            } else {
                showScreen('home');
            }
        });

    </script>
</body>

</html>